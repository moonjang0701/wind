# 🏢 건물 높이 데이터 분석 리포트

## ⚠️ 주요 발견 사항

### 🔴 데이터 이상값 발견!
- **최대 높이**: 3,595m (부르즈 할리파 828m의 4.3배!)
- **의심되는 이상값**: 200m 이상의 건물이 18,054개 (11.47%)
- **가능성**: A17 컬럼이 높이가 아닌 다른 값일 수 있음

---

## 📊 D162 지역 (인천광역시 중구 일대)

### 기본 통계
```
총 건물 수:      120,657개
높이 정보 있음:   118,009개 (97.8%)
높이 정보 없음:     2,648개 (2.2%)

최소 높이:           0.0m
최대 높이:       3,595.0m ⚠️
평균 높이:         117.2m
중간값:             33.0m
```

### 높이별 분포
| 높이 범위 | 건물 수 | 비율 |
|-----------|---------|------|
| 0-10m (저층) | 18,707개 | 15.50% |
| 10-30m (중저층) | 36,615개 | 30.35% |
| 30-50m (중층) | 17,945개 | 14.87% |
| 50-100m (중고층) | 17,983개 | 14.90% |
| 100-200m (고층) | 9,984개 | 8.27% |
| **200m 이상 (초고층)** | **14,681개** | **12.17%** ⚠️ |

### 🔝 TOP 20 가장 높은 건물
```
 1. 3,595m - 주건축물 - 인천광역시 남동구 운연동
 2. 3,595m - 주건축물 - 인천광역시 남동구 운연동
 3. 3,587m - 주건축물 - 인천광역시 남동구 운연동
 4. 3,582m - 주건축물 - 인천광역시 남동구 운연동
 5. 3,571m - 주건축물 - 인천광역시 남동구 운연동
 6. 3,556m - 주건축물 - 인천광역시 남동구 운연동
 7. 3,548m - 주건축물 - 인천광역시 남동구 운연동
 8. 3,548m - 주건축물 - 인천광역시 남동구 운연동
 9. 3,545m - 주건축물 - 인천광역시 남동구 운연동
10. 3,542m - 주건축물 - 인천광역시 남동구 운연동
...
20. 3,016m - 주건축물 - 인천광역시 강화군 화도면 동막리
```

**⚠️ 문제점**: 인천 남동구 운연동은 평지 지역인데 3.5km 높이의 건물은 불가능!

---

## 📊 D164 지역 (인천광역시 중구 일대)

### 기본 통계
```
총 건물 수:       36,766개
높이 정보 있음:    36,620개 (99.6%)
높이 정보 없음:       146개 (0.4%)

최소 높이:           1.0m
최대 높이:       2,782.0m ⚠️
평균 높이:          78.2m
중간값:             27.0m
```

### 높이별 분포
| 높이 범위 | 건물 수 | 비율 |
|-----------|---------|------|
| 0-10m (저층) | 5,985개 | 16.28% |
| 10-30m (중저층) | 13,345개 | 36.30% |
| 30-50m (중층) | 5,856개 | 15.93% |
| 50-100m (중고층) | 5,025개 | 13.67% |
| 100-200m (고층) | 2,902개 | 7.89% |
| **200m 이상 (초고층)** | **3,373개** | **9.17%** ⚠️ |

### 🔝 TOP 20 가장 높은 건물
```
 1. 2,782m - 주건축물 - 인천광역시 강화군 화도면 내리
 2. 2,782m - 주건축물 - 인천광역시 강화군 화도면 내리
 3. 2,782m - 주건축물 - 인천광역시 강화군 화도면 내리
 4. 2,782m - 주건축물 - 인천광역시 강화군 화도면 내리
 5. 1,653m - 주건축물 - 인천광역시 서구 금곡동
 6. 1,436m - 주건축물 - 인천광역시 부평구 부평동
 7. 1,434m - 주건축물 - 인천광역시 부평구 부평동
...
```

**⚠️ 문제점**: 강화도 화도면에 2.7km 높이의 건물은 불가능!

---

## 📊 전체 통합 통계

### 종합 요약
```
총 건물 수:      157,423개
높이 정보 있음:   154,629개 (98.2%)
평균 높이:         107.9m
최대 높이:       3,595.0m ⚠️
```

### 전체 높이별 분포
| 높이 범위 | 건물 수 | 비율 |
|-----------|---------|------|
| 0-10m (저층) | 24,692개 | 15.69% |
| 10-30m (중저층) | 49,960개 | 31.74% |
| 30-50m (중층) | 23,801개 | 15.12% |
| 50-100m (중고층) | 23,008개 | 14.62% |
| 100-200m (고층) | 12,886개 | 8.19% |
| **200m 이상 (초고층)** | **18,054개** | **11.47%** ⚠️ |

### 📊 가장 많은 높이값 TOP 10
```
 8.0m:  3,356개 (2.13%) ✓ 현실적
 5.0m:  3,337개 (2.12%) ✓ 현실적
10.0m:  3,329개 (2.11%) ✓ 현실적
 6.0m:  3,320개 (2.11%) ✓ 현실적
 7.0m:  3,293개 (2.09%) ✓ 현실적
12.0m:  3,262개 (2.07%) ✓ 현실적
 9.0m:  3,250개 (2.06%) ✓ 현실적
11.0m:  3,226개 (2.05%) ✓ 현실적
13.0m:  3,105개 (1.97%) ✓ 현실적
15.0m:  3,030개 (1.92%) ✓ 현실적
```

**✅ 긍정적**: 가장 많은 높이값들(5~15m)은 모두 현실적인 범위

---

## 🔍 문제 분석

### 가능한 원인

1. **컬럼 오해**
   - A17이 "건물 높이"가 아닐 가능성
   - 다른 속성값 (예: 건물 번호, 코드 등)

2. **단위 오류**
   - cm로 저장된 값을 m로 해석?
   - 3595m → 35.95m (더 현실적)

3. **해발 고도**
   - 건물 높이가 아닌 해발 고도일 가능성
   - 인천 지역의 해발 고도는 0~500m 범위

4. **데이터 오염**
   - 일부 이상값이 잘못 입력됨

### 검증 방법

#### ✅ 현실적인 건물 (전체의 88.53%)
- 0-200m 범위: 134,347개 건물
- 이 범위는 신뢰할 수 있음

#### ⚠️ 의심스러운 건물 (전체의 11.47%)
- 200m 초과: 18,054개 건물
- 수동 검증 또는 필터링 필요

---

## 💡 권장 사항

### 1. KML 파일 필터링 버전 생성
```python
# 현실적인 높이만 사용 (0-200m)
# 이상값은 기본 높이(10m)로 대체
```

### 2. 다른 높이 컬럼 확인
- A14, A15, A16, A18 등 다른 컬럼 검토
- 실제 건물 높이 컬럼 찾기

### 3. 데이터 출처 확인
- Shapefile의 메타데이터 문서 확인
- A17 컬럼의 정확한 의미 파악

---

## 📈 실제 생성된 KML 파일

### 현재 상태
✅ **모든 데이터가 변환됨** (이상값 포함)
- buildings_D162_full.kml (101 MB)
- buildings_D164_full.kml (36 MB)
- buildings_combined.kml (137 MB)

### Google Earth에서 보면
- 대부분의 건물: 정상적으로 표시 (5-100m 범위)
- 이상값 건물: **엄청나게 높은 기둥**으로 표시 (3.5km!) 🗼
- 시각적으로 문제가 명확히 보일 것임

---

## 🔧 해결 방안

### 옵션 1: 높이 제한 버전 생성 (권장)
200m 이하의 건물만 포함한 "안전한" 버전 KML 생성

### 옵션 2: 높이 보정
이상값을 평균 높이나 중간값으로 대체

### 옵션 3: 다른 컬럼 사용
A17 대신 다른 컬럼에서 실제 높이 찾기

---

## 📝 결론

### ✅ 성공한 부분
- 157,423개 건물 모두 KML로 변환 완료
- 대부분의 건물(88.53%)은 현실적인 높이값
- 좌표 변환 정상 작동
- Google Earth에서 열기 가능

### ⚠️ 주의 사항
- 11.47%의 건물에 비현실적인 높이값
- Google Earth에서 일부 건물이 매우 높게 표시됨
- 실제 사용 시 이상값 필터링 권장

### 💼 다음 단계
1. 이상값 필터링 버전 생성 (필요 시)
2. 다른 높이 컬럼 탐색
3. 데이터 출처 문서 확인

---

**보고서 작성일**: 2025-11-06  
**데이터 출처**: AL_D162_28_20250715.zip, AL_D164_28_20250715.zip  
**분석 도구**: Python, GeoPandas, Pandas
