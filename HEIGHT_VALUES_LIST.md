# 📏 건물 높이값 추출 리스트

## 🎯 요약

총 **157,423개 건물**의 높이 데이터를 분석했습니다.

---

## 📊 D162 지역 (120,657개 건물)

### 기본 통계
```
총 건물:        120,657개
높이 정보 있음:  118,009개 (97.8%)
높이 정보 없음:    2,648개 (2.2%)

최소:           0m
최대:           3,595m ⚠️
평균:           117.2m
중간값:         33m
```

### 높이별 분포
| 범위 | 건물 수 | 비율 | 상태 |
|------|---------|------|------|
| 0-10m | 18,707 | 15.50% | ✅ 정상 |
| 10-30m | 36,615 | 30.35% | ✅ 정상 |
| 30-50m | 17,945 | 14.87% | ✅ 정상 |
| 50-100m | 17,983 | 14.90% | ✅ 정상 |
| 100-200m | 9,984 | 8.27% | ✅ 정상 |
| **200m 이상** | **14,681** | **12.17%** | **⚠️ 이상값** |

### TOP 20 최고 높이 건물
```
순위  높이      용도        위치
----  --------  ----------  ---------------------------
  1.  3,595m   주건축물     인천 남동구 운연동 ⚠️
  2.  3,595m   주건축물     인천 남동구 운연동 ⚠️
  3.  3,587m   주건축물     인천 남동구 운연동 ⚠️
  4.  3,582m   주건축물     인천 남동구 운연동 ⚠️
  5.  3,571m   주건축물     인천 남동구 운연동 ⚠️
  6.  3,556m   주건축물     인천 남동구 운연동 ⚠️
  7.  3,548m   주건축물     인천 남동구 운연동 ⚠️
  8.  3,548m   주건축물     인천 남동구 운연동 ⚠️
  9.  3,545m   주건축물     인천 남동구 운연동 ⚠️
 10.  3,542m   주건축물     인천 남동구 운연동 ⚠️
 11.  3,541m   주건축물     인천 남동구 운연동 ⚠️
 12.  3,540m   주건축물     인천 남동구 운연동 ⚠️
 13.  3,538m   주건축물     인천 남동구 운연동 ⚠️
 14.  3,538m   주건축물     인천 남동구 운연동 ⚠️
 15.  3,536m   주건축물     인천 남동구 운연동 ⚠️
 16.  3,536m   주건축물     인천 남동구 운연동 ⚠️
 17.  3,536m   주건축물     인천 남동구 운연동 ⚠️
 18.  3,536m   주건축물     인천 남동구 운연동 ⚠️
 19.  3,534m   주건축물     인천 남동구 운연동 ⚠️
 20.  3,016m   주건축물     인천 강화군 화도면 ⚠️
```

**⚠️ 비정상**: 3.5km 높이는 부르즈 할리파(828m)의 4.3배!

---

## 📊 D164 지역 (36,766개 건물)

### 기본 통계
```
총 건물:        36,766개
높이 정보 있음:  36,620개 (99.6%)
높이 정보 없음:     146개 (0.4%)

최소:           1m
최대:           2,782m ⚠️
평균:           78.2m
중간값:         27m
```

### 높이별 분포
| 범위 | 건물 수 | 비율 | 상태 |
|------|---------|------|------|
| 0-10m | 5,985 | 16.28% | ✅ 정상 |
| 10-30m | 13,345 | 36.30% | ✅ 정상 |
| 30-50m | 5,856 | 15.93% | ✅ 정상 |
| 50-100m | 5,025 | 13.67% | ✅ 정상 |
| 100-200m | 2,902 | 7.89% | ✅ 정상 |
| **200m 이상** | **3,373** | **9.17%** | **⚠️ 이상값** |

### TOP 20 최고 높이 건물
```
순위  높이      용도        위치
----  --------  ----------  ---------------------------
  1.  2,782m   주건축물     인천 강화군 화도면 내리 ⚠️
  2.  2,782m   주건축물     인천 강화군 화도면 내리 ⚠️
  3.  2,782m   주건축물     인천 강화군 화도면 내리 ⚠️
  4.  2,782m   주건축물     인천 강화군 화도면 내리 ⚠️
  5.  1,653m   주건축물     인천 서구 금곡동 ⚠️
  6.  1,436m   주건축물     인천 부평구 부평동 ⚠️
  7.  1,434m   주건축물     인천 부평구 부평동 ⚠️
  8.  1,428m   주건축물     인천 부평구 부평동 ⚠️
  9.  1,426m   주건축물     인천 부평구 부평동 ⚠️
 10.  1,425m   주건축물     인천 부평구 부평동 ⚠️
 11.  1,422m   주건축물     인천 부평구 부평동 ⚠️
 12.  1,420m   주건축물     인천 부평구 부평동 ⚠️
 13.  1,415m   주건축물     인천 부평구 부평동 ⚠️
 14.  1,414m   주건축물     인천 부평구 부평동 ⚠️
 15.  1,404m   주건축물     인천 부평구 부평동 ⚠️
 16.  1,395m   주건축물     인천 부평구 부평동 ⚠️
 17.  1,366m   주건축물     인천 부평구 부평동 ⚠️
 18.  1,362m   주건축물     인천 부평구 부평동 ⚠️
 19.  1,350m   주건축물     인천 부평구 부평동 ⚠️
 20.  1,346m   주건축물     인천 부평구 부평동 ⚠️
```

**⚠️ 비정상**: 강화도에 2.7km 높이 건물은 불가능!

---

## 📊 전체 통합 통계

### 종합
```
총 건물:        157,423개
높이 정보 있음:  154,629개 (98.2%)
평균 높이:      107.9m
최대 높이:      3,595m ⚠️
```

### 전체 높이 분포
| 범위 | 건물 수 | 비율 |
|------|---------|------|
| 0-10m | 24,692 | 15.69% |
| 10-30m | 49,960 | 31.74% |
| 30-50m | 23,801 | 15.12% |
| 50-100m | 23,008 | 14.62% |
| 100-200m | 12,886 | 8.19% |
| **200m+ (이상값)** | **18,054** | **11.47%** |

### 📊 가장 많은 높이값 TOP 10
```
순위  높이    건물 수   비율    상태
----  ------  --------  ------  ------
  1.  8m      3,356개   2.13%   ✅ 정상
  2.  5m      3,337개   2.12%   ✅ 정상
  3.  10m     3,329개   2.11%   ✅ 정상
  4.  6m      3,320개   2.11%   ✅ 정상
  5.  7m      3,293개   2.09%   ✅ 정상
  6.  12m     3,262개   2.07%   ✅ 정상
  7.  9m      3,250개   2.06%   ✅ 정상
  8.  11m     3,226개   2.05%   ✅ 정상
  9.  13m     3,105개   1.97%   ✅ 정상
 10.  15m     3,030개   1.92%   ✅ 정상
```

**✅ 긍정적**: 가장 흔한 높이값들은 모두 현실적!

---

## 🔍 이상값 분석

### 비정상 높이 통계
```
D162: 14,681개 (12.17%) - 200m 초과
D164:  3,373개 (9.17%)  - 200m 초과
-------------------------------------
합계: 18,054개 (11.47%) - 전체 중
```

### 가능한 원인
1. **단위 오류**: cm를 m로 해석? (3595m → 35.95m)
2. **해발 고도**: 건물 높이가 아닌 해발 고도?
3. **잘못된 컬럼**: A17이 높이가 아닐 수도
4. **데이터 입력 오류**: 수동 입력 시 실수

### 현실적인 한국 건물 높이
```
일반 주택:      5-15m
아파트 저층:    30-50m
아파트 고층:    50-100m
초고층 빌딩:    100-200m
롯데월드타워:   555m (한국 최고)
```

---

## 📁 생성된 KML 파일

### 1️⃣ 원본 버전 (모든 데이터 포함)
```
buildings_D162_full.kml      (101 MB, 120,657개)
buildings_D164_full.kml      (36 MB, 36,766개)
buildings_combined.kml       (137 MB, 157,423개)
```
- ✅ 모든 건물 포함
- ⚠️ 이상값 포함 (일부 건물이 매우 높게 표시됨)
- 📌 Google Earth에서 3.5km 기둥이 보일 것임

### 2️⃣ 필터링 버전 (200m 제한)
```
buildings_D162_filtered.kml  (101 MB, 120,657개)
buildings_D164_filtered.kml  (36 MB, 36,766개)
```
- ✅ 현실적인 높이만 사용
- ✅ 200m 초과 → 10m로 대체
- 📌 Google Earth에서 정상적으로 보임
- 🎯 **권장 사용 버전**

### 필터링 통계
```
D162: 16,690개 필터링됨 (13.83%)
D164:  3,492개 필터링됨 (9.50%)
-------------------------------------
합계: 20,182개 필터링됨 (12.82%)
```

---

## 💡 권장 사항

### ✅ 일반 사용자
**필터링 버전 사용 권장**
- `buildings_D162_filtered.kml`
- `buildings_D164_filtered.kml`
- 정상적인 3D 시각화

### 🔬 데이터 분석가
**원본 버전 사용**
- `buildings_D162_full.kml`
- 이상값 육안으로 확인 가능
- 데이터 품질 검증용

### 🎯 최선의 선택
```bash
# 필터링 버전 재생성 (원하는 높이 제한)
python3 convert_filtered.py --max-height 150 --default-height 12
```

---

## 🎨 Google Earth에서 보이는 모습

### 원본 버전
```
😱 남동구 운연동: 하늘을 찌르는 3.5km 기둥!
😱 강화도: 2.7km 타워!
😱 부평구: 1.4km 건물들!
✅ 나머지 88%: 정상적으로 보임
```

### 필터링 버전
```
✅ 모든 지역: 현실적인 높이로 표시
✅ 일관된 시각화
✅ 보기 편함
```

---

## 📝 결론

### 변환 성공 ✅
- 157,423개 건물 모두 KML 변환 완료
- 좌표 변환 정상 (EPSG:5186 → 4326)
- Google Earth에서 열림

### 데이터 품질 ⚠️
- 88.53% (139,369개): 현실적인 높이 (0-200m)
- 11.47% (18,054개): 비현실적 이상값 (200m+)

### 해결 방법 ✅
- 필터링 버전 생성 완료
- 이상값 → 10m로 대체
- 사용자가 선택 가능

---

**생성일**: 2025-11-06  
**분석 도구**: Python, GeoPandas, Pandas  
**데이터 출처**: AL_D162_28_20250715, AL_D164_28_20250715
