# 시뮬레이션 조건 상세 설명

## 📋 기본 시뮬레이션 조건 (basic_simulation.py)

### 🛩️ 항공기 정보
- **기종**: Cessna 172P (c172p)
  - 단발 경량 프로펠러 항공기
  - 4인승 민간 항공기
  - 세계에서 가장 많이 생산된 항공기
  
#### Cessna 172P 제원:
| 항목 | 값 |
|-----|-----|
| 최대 이륙 중량 | 1,111 kg (2,450 lbs) |
| 순항 속도 | 122 knots (226 km/h) |
| 실속 속도 | 47 knots (87 km/h) |
| 최대 횡풍 한계 | 15 knots (7.7 m/s) |
| 엔진 | Lycoming O-320 (160 HP) |

---

### 📍 출발 위치
- **위도**: 37.6189° N
- **경도**: -122.3748° W
- **위치**: 샌프란시스코 국제공항(SFO) 근처, 미국 캘리포니아
- **지형**: 샌프란시스코 베이 지역

#### 지도상 위치:
```
🌍 San Francisco Bay Area
   샌프란시스코 국제공항(SFO)
   ✈️ 시작점: 공항 인근 상공
```

---

### 🧭 비행 방향
- **초기 헤딩**: 0° (정북쪽, True North)
- **비행 자세**: 수평 비행
  - Roll (횡축 회전): 0°
  - Pitch (종축 회전): 0°
  - Yaw (수직축 회전): 0°

#### 의도한 경로:
```
시작점 (SFO)
    ↑
    |  (북쪽으로 직진)
    |
    |
    ↑
목표 방향
```

---

### ⚡ 속도 조건
- **대기속도 (IAS)**: 60 knots
  - = 111 km/h
  - = 69 mph
  - = 31 m/s
  
- **대지속도 (Ground Speed)**: 횡풍에 따라 변화
  - 횡풍 없음: 약 60 knots
  - 횡풍 10 m/s: 약 65-70 knots

#### 속도 관계:
```
대기속도 (Airspeed) = 항공기가 공기에 대해 움직이는 속도
대지속도 (Ground Speed) = 항공기가 지면에 대해 움직이는 속도

대지속도 = 대기속도 + 바람 영향
```

---

### 🌬️ 횡풍 조건

#### 기본 예제 (10 m/s):
- **풍속**: 10 m/s
  - = 36 km/h
  - = 22 mph
  - = 19.4 knots
  
- **풍향**: 90° (정동쪽에서 부는 바람)
  - 항공기 진행 방향(북쪽)에 대해 **수직**
  - **순수 횡풍** (Pure Crosswind)

#### 바람 시각화:
```
          ← ← ← ← ← (동풍, 90°)
          
시작점 ──────→ (북쪽으로 비행, 0°)
    ↑
    |
    |
```

실제 항공기 움직임:
```
      의도한 경로 (북쪽)
          ↑
          |
      ↗   |  (실제 경로)
    ↗     |
  ↗       |
시작점     |
```

---

### 🏔️ 고도 조건
- **초기 고도 (AGL)**: 1,000 feet
  - = 305 meters
  - = 0.305 kilometers
  - AGL = Above Ground Level (지상으로부터의 높이)

- **비행 형태**: 수평 비행 유지

---

### ⏱️ 시뮬레이션 시간
- **총 시간**: 60초 (1분)
- **시간 간격 (dt)**: 0.01초 (10 ms)
- **총 계산 스텝**: 6,000 스텝

---

## 🎯 고급 분석 조건 (advanced_analysis.py)

### 비교 분석하는 풍속들:
| 풍속 | m/s | km/h | knots | 등급 |
|-----|-----|------|-------|------|
| 약한 바람 | 5 | 18 | 9.7 | 🍃 Light |
| 보통 바람 | 10 | 36 | 19.4 | 🌬️ Moderate |
| 강한 바람 | 15 | 54 | 29.1 | 💨 Strong |
| 매우 강한 바람 | 20 | 72 | 38.9 | 🌪️ Very Strong |

### 각 조건별 예상 결과:

#### 5 m/s (약한 횡풍):
- 예상 최대 편차: ~70-80m
- 편류각: ~5-7°
- 안전한 비행 조건

#### 10 m/s (보통 횡풍):
- 예상 최대 편차: ~140-150m
- 편류각: ~10-12°
- 주의 필요한 조건

#### 15 m/s (강한 횡풍):
- 예상 최대 편차: ~210-230m
- 편류각: ~15-18°
- Cessna 172의 한계에 근접

#### 20 m/s (매우 강한 횡풍):
- 예상 최대 편차: ~280-310m
- 편류각: ~20-25°
- 위험한 조건 (실제로는 비행 불가)

---

## 📊 시뮬레이션 결과 해석

### 측면 편차 (Lateral Deviation)
```
60초 후 위치:

    목표    |    실제 위치
    지점    |        ✈️
      ↑     |       ↗
      |     |     ↗
      |     |   ↗
      |     | ↗
    시작점  |← 측면 편차 (약 145m)
```

### 편류각 (Drift Angle)
```
        ↑ 북쪽 (의도한 방향)
       ↗
     ↗  θ  (편류각 약 10°)
   ↗
항공기 기수 방향

편류각 = 바람을 보정하기 위해 
         항공기가 기울어진 각도
```

---

## 🎮 조건 변경 방법

### 다른 항공기로 변경:
```python
simulator = CrosswindSimulator(
    aircraft_model="f16",  # F-16 전투기
    # 또는 다른 JSBSim 항공기
)
```

### 다른 속도로 비행:
```python
simulator = CrosswindSimulator(
    init_airspeed=80.0,  # 80 knots (더 빠르게)
)
```

### 다른 고도:
```python
simulator = CrosswindSimulator(
    init_altitude=5000.0,  # 5,000 feet (더 높게)
)
```

### 다른 풍향 (사선 바람):
```python
simulator = CrosswindSimulator(
    crosswind_speed=10.0,
    crosswind_direction=45.0,  # 북동풍
    # 0° = 북풍 (정풍)
    # 90° = 동풍 (횡풍)
    # 180° = 남풍 (배풍)
    # 270° = 서풍 (횡풍)
)
```

### 난기류 추가:
```python
simulator = CrosswindSimulator(
    turbulence=0.3,  # 30% 난기류
    # 0.0 = 난기류 없음
    # 0.5 = 중간 난기류
    # 1.0 = 강한 난기류
)
```

---

## 🔬 물리적 의미

### 왜 측면으로 밀리나요?
항공기는 **공기 덩어리** 속에서 움직입니다. 그 공기 덩어리가 옆으로 움직이면 (횡풍), 항공기도 함께 밀려납니다.

```
공기 덩어리의 이동:
┌─────────────┐
│  ← ← ← ← ← │  (바람)
│    ✈️      │  (항공기는 공기 속)
│             │
└─────────────┘
      ↓
   전체가 옆으로 이동
```

### 편류각이 왜 필요한가요?
의도한 경로를 유지하려면, 항공기를 바람이 부는 방향으로 기울여야 합니다.

```
바람 ← ← ← ←

         ↑ 목표 (북쪽)
        ↗   (기체를 북동쪽으로)
항공기 ↗
      ↗
    바람을 보정하기 위해
    약간 동쪽으로 기울임
```

---

## 📖 실제 항공 적용

### 착륙 시:
1. **접근 단계**: 편류각 유지 (Crab)
2. **착지 직전**: 기체를 활주로와 평행하게 (De-crab)
3. **터치다운**: 활주로 중심선 정렬

### VFR (유시계 비행):
- 파일럿이 육안으로 횡풍을 감지
- 지표물을 보고 경로 수정

### IFR (계기 비행):
- GPS와 계기를 이용한 경로 유지
- 자동조종장치 사용 가능

---

## 💡 시뮬레이션 활용

### 교육 목적:
- 횡풍 효과 이해
- 편류각 계산 연습
- 비행 계획 수립

### 연구 목적:
- 다양한 바람 조건 분석
- 항공기 성능 평가
- 안전 마진 계산

### 개발 목적:
- 자동조종 알고리즘 테스트
- 비행 시뮬레이터 개발
- 항공기 설계 검증

---

## 🎯 요약

**"Cessna 172 항공기가 샌프란시스코에서 북쪽으로 60 knots로 수평비행 중, 동쪽에서 10 m/s 횡풍을 받으면 1분 후 약 145m 동쪽으로 밀려난다"**

이것이 시뮬레이션의 핵심입니다! ✈️🌬️
